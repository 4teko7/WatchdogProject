<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Watchdog Project: C:/Users/TEKO/Desktop/WatchdogProject - Copy/process.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Watchdog Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_826ae02214079adcd19df27f3345ee9c.html">WatchdogProject - Copy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">process.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main idea of the project is to learn how to use namedpipe and communicate between parent and child processes. besides this, Checking the status of the children, and doing necessary actions. There are 3 files which are <a class="el" href="executor_8cpp.html">executor.cpp</a>, <a class="el" href="process_8cpp.html" title="The main idea of the project is to learn how to use namedpipe and communicate between parent and chil...">process.cpp</a>, and <a class="el" href="watchdog_8cpp.html" title="The main idea of the project is to learn how to use namedpipe and communicate between parent and chil...">watchdog.cpp</a>. <a class="el" href="executor_8cpp.html">Executor.cpp</a> opens pipe and waits until watchdog writes the name and pids of the processes to the pipe. Watchdog creates processes according to input file. While watchdog writes processes information, executor reads from the pipe and do some actions according to instrucitons in the instruction file that is a parameter given to the executor. There are many signal types in the instruction file. When signal for a specific process is activated by executor, that process receive signal and do some actions. For example, when process takes SIGTERM signal, it exits from the program. Watchdog should wait Its children. It Watchdog does not wait for Its children, they will become Zombie, which is an unwanted situation. When a child is terminated, Watchdog will get the information about the terminated child thanks to wait function, and will restart the terminated child. For executor to continue its job, Watchdog should write the information about the newly created child to the pipe. Then, executor reads that information from the pipe, and continue its job. If Watchdog receives SIGTERM signal, then before terminating Watchdog, we should terminate all Its children. If we don't terminate children, they will become orphan and this is an unwanted situation. <br  />
Explanation Of Code Structure: <br  />
When process is created by Watchdog, it will create necessary signals and enter an infinite loop. When process gets any signal, then "mySignal" method will be executed. Inside this method, necessary actions are done such as output to a process output file, or exit.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
</div>
<p><a href="process_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a617e1fc1bc7182d4bc1fd00bf636ef6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8cpp.html#a617e1fc1bc7182d4bc1fd00bf636ef6c">mySignal</a> (int sigNumber)</td></tr>
<tr class="memdesc:a617e1fc1bc7182d4bc1fd00bf636ef6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives signal and do appropriate action.  <a href="process_8cpp.html#a617e1fc1bc7182d4bc1fd00bf636ef6c">More...</a><br /></td></tr>
<tr class="separator:a617e1fc1bc7182d4bc1fd00bf636ef6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Function.  <a href="process_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:add5846c51d226bf3858125eaa1847ff2"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8cpp.html#add5846c51d226bf3858125eaa1847ff2">processOutput</a></td></tr>
<tr class="separator:add5846c51d226bf3858125eaa1847ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad356f529e90cb78ea365363e85beca85"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8cpp.html#ad356f529e90cb78ea365363e85beca85">PNumber</a></td></tr>
<tr class="separator:ad356f529e90cb78ea365363e85beca85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492296cd8dd9c3d30f35c77d68492c83"><td class="memItemLeft" align="right" valign="top">fstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8cpp.html#a492296cd8dd9c3d30f35c77d68492c83">processOutputStream</a></td></tr>
<tr class="separator:a492296cd8dd9c3d30f35c77d68492c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main idea of the project is to learn how to use namedpipe and communicate between parent and child processes. besides this, Checking the status of the children, and doing necessary actions. There are 3 files which are <a class="el" href="executor_8cpp.html">executor.cpp</a>, <a class="el" href="process_8cpp.html" title="The main idea of the project is to learn how to use namedpipe and communicate between parent and chil...">process.cpp</a>, and <a class="el" href="watchdog_8cpp.html" title="The main idea of the project is to learn how to use namedpipe and communicate between parent and chil...">watchdog.cpp</a>. <a class="el" href="executor_8cpp.html">Executor.cpp</a> opens pipe and waits until watchdog writes the name and pids of the processes to the pipe. Watchdog creates processes according to input file. While watchdog writes processes information, executor reads from the pipe and do some actions according to instrucitons in the instruction file that is a parameter given to the executor. There are many signal types in the instruction file. When signal for a specific process is activated by executor, that process receive signal and do some actions. For example, when process takes SIGTERM signal, it exits from the program. Watchdog should wait Its children. It Watchdog does not wait for Its children, they will become Zombie, which is an unwanted situation. When a child is terminated, Watchdog will get the information about the terminated child thanks to wait function, and will restart the terminated child. For executor to continue its job, Watchdog should write the information about the newly created child to the pipe. Then, executor reads that information from the pipe, and continue its job. If Watchdog receives SIGTERM signal, then before terminating Watchdog, we should terminate all Its children. If we don't terminate children, they will become orphan and this is an unwanted situation. <br  />
Explanation Of Code Structure: <br  />
When process is created by Watchdog, it will create necessary signals and enter an infinite loop. When process gets any signal, then "mySignal" method will be executed. Inside this method, necessary actions are done such as output to a process output file, or exit. </p>
<dl class="section author"><dt>Author</dt><dd>Bilal Tekin (<a href="#" onclick="location.href='mai'+'lto:'+'bil'+'al'+'.te'+'ki'+'n@b'+'ou'+'n.e'+'du'+'.tr'; return false;">bilal<span style="display: none;">.nosp@m.</span>.tek<span style="display: none;">.nosp@m.</span>in@bo<span style="display: none;">.nosp@m.</span>un.e<span style="display: none;">.nosp@m.</span>du.tr</a>)</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-12-30</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020 </dd></dl>

<p class="definition">Definition in file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Argument Count </td></tr>
    <tr><td class="paramname">argv</td><td>Argument Values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Return value </dd></dl>

<p class="definition">Definition at line <a class="el" href="process_8cpp_source.html#l00051">51</a> of file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>

</div>
</div>
<a id="a617e1fc1bc7182d4bc1fd00bf636ef6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617e1fc1bc7182d4bc1fd00bf636ef6c">&#9670;&nbsp;</a></span>mySignal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mySignal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sigNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives signal and do appropriate action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sigNumber</td><td>Signal number </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="process_8cpp_source.html#l00080">80</a> of file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad356f529e90cb78ea365363e85beca85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad356f529e90cb78ea365363e85beca85">&#9670;&nbsp;</a></span>PNumber</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* PNumber</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>process number: P# </p>

<p class="definition">Definition at line <a class="el" href="process_8cpp_source.html#l00040">40</a> of file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>

</div>
</div>
<a id="add5846c51d226bf3858125eaa1847ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5846c51d226bf3858125eaa1847ff2">&#9670;&nbsp;</a></span>processOutput</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* processOutput</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>process Output Path </p>

<p class="definition">Definition at line <a class="el" href="process_8cpp_source.html#l00038">38</a> of file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>

</div>
</div>
<a id="a492296cd8dd9c3d30f35c77d68492c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492296cd8dd9c3d30f35c77d68492c83">&#9670;&nbsp;</a></span>processOutputStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fstream processOutputStream</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process output stream </p>

<p class="definition">Definition at line <a class="el" href="process_8cpp_source.html#l00043">43</a> of file <a class="el" href="process_8cpp_source.html">process.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
